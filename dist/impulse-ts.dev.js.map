{"version":3,"file":"impulse-ts.dev.js","mappings":"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","sources":["webpack://impulse-ts/./src/typescript/builder/abstract.tsx","webpack://impulse-ts/./src/typescript/builder/builder1d.tsx","webpack://impulse-ts/./src/typescript/dataset/Dataset.tsx","webpack://impulse-ts/./src/typescript/dataset/DatasetBuilder.tsx","webpack://impulse-ts/./src/typescript/layer/abstract.tsx","webpack://impulse-ts/./src/typescript/layer/abstract1d.tsx","webpack://impulse-ts/./src/typescript/layer/index.tsx","webpack://impulse-ts/./src/typescript/layer/logistic.tsx","webpack://impulse-ts/./src/typescript/layer/softmax.tsx","webpack://impulse-ts/./src/typescript/math/matrix.tsx","webpack://impulse-ts/./src/typescript/network.tsx","webpack://impulse-ts/./src/typescript/types.tsx","webpack://impulse-ts/external \"csvtojson\"","webpack://impulse-ts/external \"fs\"","webpack://impulse-ts/external \"gpu.js\"","webpack://impulse-ts/webpack/bootstrap","webpack://impulse-ts/webpack/runtime/compat get default export","webpack://impulse-ts/webpack/runtime/define property getters","webpack://impulse-ts/webpack/runtime/hasOwnProperty shorthand","webpack://impulse-ts/webpack/runtime/make namespace object","webpack://impulse-ts/./src/typescript/main.tsx"],"sourcesContent":["import { Dimension, Layers } from \"../types\";\nimport Network from \"../network\";\n\nabstract class AbstractBuilder {\n  protected dimensions: Dimension = null;\n  protected previousLayer: Layers = null;\n  protected network: Network = null;\n\n  constructor(dimension: Dimension) {\n    this.dimensions = dimension;\n    this.network = new Network(dimension);\n  }\n\n  createLayer(type: Layers, callback: Function) {\n    const layer = new type();\n\n    if (typeof callback === \"function\") {\n      callback(layer);\n    }\n\n    if (this.previousLayer === null) {\n      this.firstLayerTransition(layer);\n    } else {\n      layer.transition(this.previousLayer);\n    }\n\n    layer.configure();\n\n    this.network.addLayer(layer);\n    this.previousLayer = layer;\n  }\n\n  getNetwork(): Network {\n    return this.network;\n  }\n\n  abstract firstLayerTransition(layer: Layers);\n}\n\nexport { AbstractBuilder };\nexport default AbstractBuilder;\n","import { AbstractBuilder } from \"./abstract\";\nimport { Layers } from \"../types\";\n\nclass Builder1D extends AbstractBuilder {\n  firstLayerTransition(layer: Layers) {\n    layer.setWidth(this.dimensions[0]);\n  }\n}\n\nexport { Builder1D };\nexport default Builder1D;\n","import {Matrix} from \"../math/matrix\";\n\nexport class Dataset {\n    public exampleSize: number = 0;\n    public numberOfExamples: number = 0;\n    public data: Matrix = null;\n\n    constructor(exampleSize: number, numberOfExamples: number, arr: number[][]) {\n        this.exampleSize = exampleSize;\n        this.numberOfExamples = numberOfExamples\n        const data = [];\n\n        for (let example = 0; example < numberOfExamples; example += 1) {\n            for (let dataIndex = 0; dataIndex < exampleSize; dataIndex += 1) {\n                data.push(arr[example][dataIndex] || 0);\n            }\n        }\n\n        this.data = new Matrix(this.exampleSize, this.numberOfExamples, data);\n    }\n\n    exampleAt(index: number): Matrix {\n        const data = [[]];\n        for (let dataIndex = 0; dataIndex < this.exampleSize; dataIndex += 1) {\n            data[0][dataIndex] = this.data[dataIndex * index];\n        }\n\n        return new Matrix(this.exampleSize, 1, data);\n    }\n}\n","import * as csvtojson from 'csvtojson'\nimport { Dataset } from './Dataset'\n\nexport class DatasetBuilder {\n    static fromCSV(csvPath: string): Promise<Dataset> {\n        return new Promise((resolve) => {\n            csvtojson({\n                noheader: true,\n                output: \"csv\"\n            })\n                .fromFile(csvPath)\n                .then((arr)=>{\n                    const numberOfExamples = arr.length;\n                    const exampleSize = arr[0].length;\n\n                    const dataset = new Dataset(exampleSize, numberOfExamples, arr);\n                    resolve(dataset);\n                })\n        });\n    }\n}\n","import { elementWiseAdd, Matrix, multiply } from \"../math/matrix\";\nimport { Dimension, Layers } from \"../types\";\n\nabstract class AbstractLayer {\n  public W: Matrix;\n  public b: Matrix;\n  public A: Matrix;\n  public Z: Matrix;\n  public gW: Matrix;\n  public gb: Matrix;\n\n  protected width: number = 0;\n  protected height: number = 0;\n  protected depth: number = 0;\n  protected previousLayer: Layers = null;\n\n  constructor() {\n    this.W = new Matrix();\n    this.b = new Matrix();\n    this.A = new Matrix();\n    this.Z = new Matrix();\n    this.gW = new Matrix();\n    this.gb = new Matrix();\n  }\n\n  forward(input: Matrix): Matrix {\n    this.Z = elementWiseAdd(multiply(this.W, input), this.b.replicate(1, input.cols));\n    this.A = this.activation(this.Z);\n    return this.A;\n  }\n\n  setWidth(value: number) {\n    this.width = value;\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  setHeight(value: number) {\n    this.height = value;\n  }\n\n  getHeight(): number {\n    return this.height;\n  }\n\n  setDepth(value: number) {\n    this.depth = value;\n  }\n\n  getDepth(): number {\n    return this.depth;\n  }\n\n  abstract getOutputWidth();\n\n  abstract getOutputHeight();\n\n  abstract getOutputDepth();\n\n  abstract configure();\n\n  abstract is1D(): boolean;\n\n  abstract is3D(): boolean;\n\n  abstract transition(previousLayer: Layers);\n\n  abstract setSize(dimension: Dimension);\n\n  abstract getSize();\n\n  abstract activation(value: Matrix): Matrix;\n\n  abstract derivative(value: Matrix): Matrix;\n\n  abstract getType();\n\n  abstract loss(output: Matrix, predictions: Matrix): number;\n\n  abstract error(m: number): number;\n}\n\nexport { AbstractLayer };\n","import { AbstractLayer } from \"./abstract\";\nimport { fillRandom, setZeros } from \"../math/matrix\";\nimport { Dimension, Layers } from \"../types\";\n\nabstract class AbstractLayer1D extends AbstractLayer {\n  protected depth: number = 1;\n\n  configure() {\n    this.W.resize(this.height, this.width);\n    this.W = fillRandom(this.W, this.width);\n\n    this.b.resize(this.height, 1);\n    this.b = fillRandom(this.b, this.width);\n\n    this.gW.resize(this.height, this.width);\n    this.gW = setZeros(this.gW);\n\n    this.gb.resize(this.height, 1);\n    this.gb = setZeros(this.gb);\n  }\n\n  is1D(): boolean {\n    return true;\n  }\n\n  is3D(): boolean {\n    return false;\n  }\n\n  transition(previousLayer: Layers) {\n    if (previousLayer.is1D()) {\n      this.setWidth(previousLayer.getSize());\n    } else if (previousLayer.is3D()) {\n      this.setWidth(\n        previousLayer.getOutputWidth() *\n          previousLayer.getOutputHeight() *\n          previousLayer.getOutputDepth()\n      );\n    }\n  }\n\n  setSize(value: Dimension) {\n    this.setHeight(value[0]);\n  }\n\n  getSize(): number {\n    return this.height;\n  }\n\n  getOutputWidth() {\n    return this.width;\n  }\n\n  getOutputHeight() {\n    return this.height;\n  }\n\n  getOutputDepth() {\n    return 1;\n  }\n}\n\nexport { AbstractLayer1D };\n","import { AbstractLayer } from \"./abstract\";\nimport { SoftmaxLayer } from \"./softmax\";\nimport { LogisticLayer } from \"./logistic\";\n\nexport { AbstractLayer, SoftmaxLayer, LogisticLayer };\n","import {\n  logisticActivation,\n  logisticDerivative,\n  Matrix,\n  logisticLoss,\n} from \"../math/matrix\";\nimport { LayerType } from \"../types\";\nimport { AbstractLayer1D } from \"./abstract1d\";\n\nclass LogisticLayer extends AbstractLayer1D {\n  activation(m: Matrix): Matrix {\n    return logisticActivation(m);\n  }\n\n  derivative(): Matrix {\n    return logisticDerivative(this.A);\n  }\n\n  getType(): LayerType {\n    return LayerType.logistic;\n  }\n\n  loss(output: Matrix, predictions: Matrix): number {\n    return logisticLoss(output, predictions);\n  }\n\n  error(m: number): number {\n    return -1.0 / m;\n  }\n}\n\nexport { LogisticLayer };\n","import { Matrix, softmaxActivation, softmaxLoss } from \"../math/matrix\";\nimport { LayerType } from \"../types\";\nimport { AbstractLayer1D } from \"./abstract1d\";\n\nclass SoftmaxLayer extends AbstractLayer1D {\n  activation(m: Matrix): Matrix {\n    return softmaxActivation(m);\n  }\n\n  derivative(): Matrix {\n    throw new Error(\"Unsupported usage.\");\n  }\n\n  getType(): LayerType {\n    return LayerType.softmax;\n  }\n\n  loss(output: Matrix, predictions: Matrix): number {\n    return softmaxLoss(output, predictions);\n  }\n\n  error(m: number): number {\n    return -1.0 / m;\n  }\n}\n\nexport { SoftmaxLayer };\n","import {GPU, input} from \"gpu.js\";\n\nexport const gpu = new GPU({mode: \"gpu\"});\n\nexport class Matrix {\n    public rows = 0;\n    public cols = 0;\n    public data = null;\n\n    constructor(rows = 0, cols = 0, data = null) {\n        this.resize(rows, cols);\n        if (data) {\n            this.generateData(data);\n        }\n    }\n\n    resize(rows, cols): Matrix {\n        this.rows = rows;\n        this.cols = cols;\n        this.data = Float64Array.from(new Array(rows));\n        for (let row = 0; row < this.rows; row += 1) {\n            this.data[row] = Float64Array.from(new Array(cols));\n        }\n\n        return this;\n    }\n\n    generateData(arr: number[][]): Matrix {\n        this.data = Float64Array.from(new Array(arr.length));\n        for (let row = 0; row < arr.length; row += 1) {\n            this.data[row] = Float64Array.from(new Array(arr[0].length));\n        }\n        return this;\n    }\n\n    toBuffer(): ArrayBuffer {\n        const result = new ArrayBuffer(this.rows * this.cols * 64);\n        const view = new DataView(result, 0, this.rows * this.cols * 64);\n        this.data.forEach((num, i) => {\n            view.setFloat64(i, num);\n        })\n        return result;\n    }\n\n    sum(): number {\n        let sum = 0.0;\n        for (let row = 0; row < this.rows; row += 1) {\n            for (let col = 0; col < this.cols; col += 1) {\n                sum += this.data[row][col];\n            }\n        }\n        return sum;\n    }\n\n    colwiseSum(): Matrix {\n        const data = new Array(this.rows);\n        for (let row = 0; row < this.rows; row += 1) {\n            let sum = 0.0;\n            for (let col = 0; col < this.cols; col += 1) {\n                sum += this.data[row][col];\n            }\n            data[row] = sum;\n        }\n        return new Matrix(this.rows, 1, data)\n    }\n\n    replicate(rows: number, cols: number): Matrix {\n        for (let row = 0; row < this.rows; row += 1) {\n\n        }\n        return this;\n    }\n}\n\nexport const multiply = (m1: Matrix, m2: Matrix): Matrix => {\n    if (m1.cols !== m2.rows) {\n        throw new Error(\"DIMENSIONS error.\");\n    }\n\n    const gpu = new GPU();\n    const kernel = gpu.createKernel(function (a, b) {\n        let sum = 0;\n        for (let i = 0; i < this.constants.cols; i++) {\n            sum += a[this.thread.x][i] * b[i][this.thread.y];\n        }\n        return sum;\n    }).setOutput([m1.rows, m2.cols]).setConstants({\n        cols: m1.rows,\n    });\n\n    const data = kernel(m1.data, m2.data);\n    return new Matrix(m1.rows, m2.cols, Array.from(data));\n};\n\nexport const elementWiseAdd = (m1: Matrix, m2: Matrix): Matrix => {\n    if (m1.rows !== m2.rows) {\n        throw new Error(\"ROWS number not equal.\");\n    }\n    if (m1.cols !== m2.cols) {\n        throw new Error(\"COLS number not equal.\");\n    }\n\n    const gpu = new GPU();\n    const kernel = gpu.createKernel(function (a, b) {\n        return a[this.thread.x][this.thread.y] + b[this.thread.x][this.thread.y];\n    }).setOutput([m1.rows, m2.cols])\n    const data = kernel(m1.data, m2.data);\n    const result = new Matrix(m1.rows, m2.cols, Array.from(data));\n\n    return result;\n};\n\nexport const elementWiseSubtract = (m1: Matrix, m2: Matrix): Matrix => {\n    if (m1.rows !== m2.rows) {\n        throw new Error(\"ROWS number not equal.\");\n    }\n    if (m1.cols !== m2.cols) {\n        throw new Error(\"COLS number not equal.\");\n    }\n\n    const gpu = new GPU();\n    const kernel = gpu.createKernel(function (a, b) {\n        return a[this.thread.x][this.thread.y] - b[this.thread.x][this.thread.y];\n    }).setOutput([m1.rows, m2.cols])\n    const data = kernel(m1.data, m2.data);\n    const result = new Matrix(m1.rows, m2.cols, Array.from(data));\n\n    return result;\n};\n\nexport const fillRandom = (m1: Matrix, parameter: number): Matrix => {\n    const kernel = gpu.createKernel(function () {\n        return Math.random() * Math.sqrt(2.0 / this.constants.parameter);\n    }).setOutput([m1.rows, m1.cols]).setConstants({\n        parameter\n    })\n    const data = kernel();\n    const result = new Matrix(m1.rows, m1.cols, Array.from(data));\n\n    return result;\n};\n\nexport const setZeros = (m1: Matrix): Matrix => {\n    const kernel = gpu.createKernel(function () {\n        return 0.0;\n    }).setOutput([m1.rows, m1.cols])\n    const data = kernel();\n    const result = new Matrix(m1.rows, m1.cols, Array.from(data));\n\n    return result;\n};\n\nexport const elementWiseMultiply = (m1: Matrix, m2: Matrix): Matrix => {\n    if (m1.rows !== m2.rows) {\n        throw new Error(\"ROWS number not equal.\");\n    }\n    if (m1.cols !== m2.cols) {\n        throw new Error(\"COLS number not equal.\");\n    }\n\n    const kernel = gpu.createKernel(function (a, b) {\n        return a[this.thread.x][this.thread.y] * b[this.thread.x][this.thread.y];\n    }).setOutput([m1.rows, m2.cols])\n    const data = kernel(m1.data, m2.data);\n    const result = new Matrix(m1.rows, m2.cols, Array.from(data));\n\n    return result;\n};\n\nexport const sum = (m: Matrix): number => {\n    return m.sum();\n};\n\nexport const cols = (m: Matrix): number => {\n    return m.cols;\n};\n\nexport const elementWiseDivide = (m1: Matrix, m2: Matrix): Matrix => {\n    if (m1.rows !== m2.rows) {\n        throw new Error(\"ROWS number not equal.\");\n    }\n    if (m1.cols !== m2.cols) {\n        throw new Error(\"COLS number not equal.\");\n    }\n\n    const kernel = gpu.createKernel(function (a, b) {\n        return a[this.thread.x][this.thread.y] / b[this.thread.x][this.thread.y];\n    }).setOutput([m1.rows, m2.cols])\n    const data = kernel(m1.data, m2.data);\n    const result = new Matrix(m1.rows, m2.cols, Array.from(data));\n\n    return result;\n};\n\nexport const softmaxActivation = (m: Matrix): Matrix => {\n    const kernel = gpu.createKernel(function (a) {\n        return Math.exp(a[this.thread.x][this.thread.y]);\n    }).setOutput([m.rows, m.cols]);\n    const data = new Matrix(m.rows, m.cols, Array.from(kernel(m.data)));\n    const divider = new Matrix(m.rows, 1, data.colwiseSum().data).replicate(m.rows, 1);\n    const result = new Matrix(m.rows, m.cols, elementWiseDivide(data, divider).data);\n    return result;\n};\n\nexport const softmaxLoss = (output: Matrix, predictions: Matrix): number => {\n    const kernel = gpu.createKernel(function (a) {\n        return Math.log(a[this.thread.x][this.thread.y]);\n    }).setOutput([predictions.rows, predictions.cols]);\n    const data = kernel(predictions.data);\n    const result = new Matrix(output.rows, output.cols, elementWiseMultiply(output, data).data);\n    return result.sum();\n};\n\nexport const logisticActivation = (m: Matrix): Matrix => {\n    const kernel = gpu.createKernel(function (a) {\n        return 1.0 / (1.0 + Math.exp(-a[this.thread.x][this.thread.y]));\n    }).setOutput([m.rows, m.cols]);\n    const data = kernel(m.data);\n    const result = new Matrix(m.rows, m.cols, Array.from(data));\n    return result;\n};\n\nexport const logisticDerivative = (m: Matrix): Matrix => {\n    const kernel = gpu.createKernel(function (a) {\n        return a[this.thread.x][this.thread.y] * (1.0 - a[this.thread.x][this.thread.y]);\n    }).setOutput([m.rows, m.cols]);\n    const data = kernel(m.data);\n    const result = new Matrix(m.rows, m.cols, Array.from(data));\n    return result;\n};\n\nexport const logisticLoss = (output: Matrix, predictions: Matrix): number => {\n    const kernel = gpu.createKernel(function (a) {\n        return Math.log(a[this.thread.x][this.thread.y]);\n    }).setOutput([output.rows, output.cols]);\n    const predictionsLog = new Matrix(output.rows, output.cols, kernel(input(output.data, [output.rows, output.cols])) as number[]);\n\n    const kernel2 = gpu.createKernel(function (a) {\n        return 1.0 - a[this.thread.x][this.thread.y];\n    }).setOutput([output.rows, output.cols]);\n    const outputOne = new Matrix(output.rows, output.cols, kernel2(output.data) as number[]);\n\n    const kernel4 = gpu.createKernel(function (a) {\n        return Math.log(1.0 - a[this.thread.x][this.thread.y]);\n    }).setOutput([predictions.rows, predictions.cols]);\n    const predictionsMinusLog = new Matrix(predictions.rows, predictions.cols, kernel4(predictions.data) as number[]);\n\n    const toAdd = elementWiseMultiply(output, predictionsLog);\n    const toAdd2 = elementWiseMultiply(outputOne, predictionsMinusLog);\n    return elementWiseAdd(toAdd, toAdd2).sum()\n};\n","import { Dimension, Layers } from \"./types\";\nimport { cols, Matrix, elementWiseSubtract } from \"./math/matrix\";\nimport * as fs from \"fs\";\nimport {Dataset} from \"./dataset/Dataset\";\n\nclass Network {\n  private dimensions: Dimension = null;\n  private size: number = 0;\n  private layers: Layers[] = [];\n\n  constructor(dimensions: Dimension) {\n    this.dimensions = dimensions;\n  }\n\n  addLayer(layer: Layers) {\n    this.size++;\n    this.layers.push(layer);\n  }\n\n  forward(input: Matrix): Matrix {\n    let output = input;\n\n    this.layers.forEach((layer: Layers) => {\n      output = layer.forward(output);\n    });\n\n    return output;\n  }\n\n  backward(X: Matrix, Y: Matrix, predictions: Matrix, regularization: number) {\n    const m = cols(X);\n\n    let delta = elementWiseSubtract(predictions, Y);\n\n    this.layers.reverse().forEach((layer) => {\n      // delta = layer.backpropagation.propagate(X, m, regularization, delta)\n    });\n  }\n\n  loss(output: Matrix, predictions: Matrix) {\n    return this.layers[this.layers.length - 1].loss(output, predictions);\n  }\n\n  save(path: string): Promise<string> {\n    const resultJSON = {\n      dimensions: this.dimensions,\n      layers: [],\n    };\n\n    this.layers.forEach((layer: Layers) => {\n      resultJSON.layers.push({\n        type: layer.getType(),\n        dimensions: [\n          layer.getOutputHeight(),\n          layer.getOutputWidth(),\n          layer.getOutputDepth(),\n        ],\n        weights: {\n          W: layer.W.data,\n          b: layer.b.data,\n        },\n      });\n    });\n\n    const result = JSON.stringify(resultJSON);\n\n    return new Promise((resolve, reject) => {\n      fs.writeFile(path, result, (err) => {\n        if (err) {\n          console.error(err);\n          reject();\n        }\n        resolve(result);\n      });\n    });\n  }\n}\n\nexport { Network };\nexport default Network;\n","import { SoftmaxLayer, LogisticLayer } from \"./layer\";\n\nexport type Dimension = [number] | [number, number, number];\n\nexport enum LayerType {\n  logistic = \"logistic\",\n  softmax = \"softmax\",\n}\n\nexport type Layers = LogisticLayer | SoftmaxLayer;\nexport type Layers1D = LogisticLayer | SoftmaxLayer;\nexport type Layers2D = null;\n","module.exports = require(\"csvtojson\");","module.exports = require(\"fs\");","module.exports = require(\"gpu.js\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Builder1D } from \"./builder/builder1d\";\nimport { SoftmaxLayer, LogisticLayer } from \"./layer\";\nimport { Matrix } from \"./math/matrix\";\nimport {\n  multiply as matrixMultiply,\n  sum as matrixSum,\n  fillRandom as matrixFillRandom,\n  elementWiseMultiply as matrixElementWiseMultiply,\n  elementWiseDivide as matrixElementWiseDivide,\n  elementWiseAdd as matrixElementWiseAdd,\n  elementWiseSubtract as matrixElementWiseSubtract,\n} from \"./math/matrix\";\nimport { DatasetBuilder } from \"./dataset/DatasetBuilder\";\n\nexport {\n  Builder1D,\n  Matrix,\n  SoftmaxLayer,\n  LogisticLayer,\n  matrixMultiply,\n  matrixSum,\n  matrixFillRandom,\n  matrixElementWiseMultiply,\n  matrixElementWiseDivide,\n  matrixElementWiseAdd,\n  matrixElementWiseSubtract,\n  DatasetBuilder\n};\n"],"names":["Network","AbstractBuilder","dimension","dimensions","network","type","callback","layer","previousLayer","firstLayerTransition","transition","configure","addLayer","Builder1D","setWidth","Matrix","Dataset","exampleSize","numberOfExamples","arr","data","example","dataIndex","push","index","csvtojson","DatasetBuilder","csvPath","Promise","resolve","noheader","output","fromFile","then","length","dataset","elementWiseAdd","multiply","AbstractLayer","W","b","A","Z","gW","gb","input","replicate","cols","activation","value","width","height","depth","fillRandom","setZeros","AbstractLayer1D","resize","is1D","getSize","is3D","getOutputWidth","getOutputHeight","getOutputDepth","setHeight","SoftmaxLayer","LogisticLayer","logisticActivation","logisticDerivative","logisticLoss","LayerType","m","logistic","predictions","softmaxActivation","softmaxLoss","Error","softmax","GPU","gpu","mode","rows","generateData","Float64Array","from","Array","row","result","ArrayBuffer","view","DataView","forEach","num","i","setFloat64","sum","col","m1","m2","kernel","createKernel","a","constants","thread","x","y","setOutput","setConstants","elementWiseSubtract","parameter","Math","random","sqrt","elementWiseMultiply","elementWiseDivide","exp","divider","colwiseSum","log","predictionsLog","kernel2","outputOne","kernel4","predictionsMinusLog","toAdd","toAdd2","fs","size","layers","forward","X","Y","regularization","delta","reverse","loss","path","resultJSON","getType","weights","JSON","stringify","reject","writeFile","err","console","error","matrixMultiply","matrixSum","matrixFillRandom","matrixElementWiseMultiply","matrixElementWiseDivide","matrixElementWiseAdd","matrixElementWiseSubtract"],"sourceRoot":""}